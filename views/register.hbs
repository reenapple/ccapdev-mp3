<html>
    <head>
        <link rel="stylesheet" href="register.css" type="text/css">
        <link rel="stylesheet" href="postcreate.css" type="text/css">
        <link rel="stylesheet" href="styles.css" type="text/css">
        <link rel="stylesheet" href="profile.css" type="text/css">

        <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script type="text/javascript" src="myscript.js"></script>
        
        <link rel="icon" href="sprites/icon.png">
        <title>
            DoggyMate
        </title>
    </head>

    <body>
        <header>
            {{>header}}
        </header>
        
        <section class="smallestcontainer">
            <div class="content">
                <div class="title">Sign up</div>
                <br><br>

                {{#if error}}
                <div class="centererror">
                    <div class="error">{{error}}</div>
                </div>
                {{/if}}
                <br>
                
                <form method="POST" action="signup" enctype="multipart/form-data">
                    <div class="sameline">
                        <div class="line1left">First Name{{#if error}}<span class="rederr">*</span>{{/if}}</div>
                        <div class="line2left"><input type="text" class="postinput" name="firstname" placeholder="First name" pattern="[A-Za-z]{1,25}" title="Should only contain letters and no spaces."></div>
                        <div class="line1right">Last Name{{#if error}}<span class="rederr">*</span>{{/if}}</div>
                        <div class="line2right"><input type="text" class="postinput" name="lastname" placeholder="Last name" pattern="[A-Za-z]{1,25}" title="Should only contain letters and no spaces."></div>
                    </div><br>
                    Email{{#if error}}<span class="rederr">*</span>{{/if}}<input type="email" class="postinput" name="email" placeholder="Email"><br>
                    Username{{#if error}}<span class="rederr">*</span>{{/if}}
                    <span style="font-size: small; color: rgb(163, 163, 163);">(This can not be changed after registering)</span>
                    <input type="text" class="postinput" name="username" placeholder="Username" pattern="[A-Za-z0-9_]{1,15}" title="Username should be no more than 15 characters and can only contain letters, numbers, and underscore."><br>
                    Password{{#if error}}<span class="rederr">*</span>{{/if}}<input type="password" class="postinput" name="password" placeholder="Password" pattern=".{8,}" title="Password should contain 8 or more characters."><br>
                    Confirm Password{{#if error}}<span class="rederr">*</span>{{/if}}<input type="password" class="postinput" name="confirmpassword" placeholder="Confirm Password"><br>
                    
                    <!--<input type="radio" name="avatarimg" value="icon1" checked>
                        <label for="icon1">Avatar 1<div class="imguserchoose icon1"></div></label><br>
                    <input type="radio" name="avatarimg" value="icon2">
                        <label for="icon2">Avatar 2<div class="imguserchoose icon2"></div></label><br>
                    <input type="radio" name="avatarimg" value="icon3">
                        <label for="icon3">Avatar 3<div class="imguserchoose icon3"></div></label><br>
                    <input type="radio" id="icon4box" name="avatarimg" value="icon4">
                        <label for="icon4">
                            Choose Own Avatar<input type="file" class="postinput smallwidth" id="inputuserimg" name="userimg" accept="image/*"><br>
                            <img id="showuserimg" class="imguserchoose" src="#"/><br>
                        </label><br>-->

                    Upload Profile Picture<input type="file" class="postinput smallwidth" id="inputuserimg" name="userimg" accept="image/*"><br>
                    <div class="centerimg"><img id="showuserimg" src="#"/><br></div>
                        
                    <div class="postbuttons centererror">
                        <input type="submit" class="button bblue" value="Sign up">
                    </div><br>
                    <div class="centererror">
                        <a href="/" class="reqlink">Continue as Guest</a>
                    </div>
                </form>
            </div>
        </section>

        <script>
            function readURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();
                    
                    reader.onload = function (e) {
                        $('#showuserimg').attr('src', e.target.result);
                    }
                    
                    reader.readAsDataURL(input.files[0]);
                }
            }

            /*$("#inputuserimg").prop("disabled", true)
            $('input[type="radio"]').click(function(){
                if($("#icon4box").is(":checked")){
                    $("#inputuserimg").prop("disabled", false)
                }else if($("#icon4box").not(":checked")){
                    $("#inputuserimg").prop("disabled", true)
                }
            });*/
            
            $("#inputuserimg").change(function(){
                readURL(this);
                $(".centerimg").show();
                $("#showuserimg").show();
            });
        </script>

    </body>
</html>
